console.log("module1"),console.log("module2");const e=async e=>{try{const t=await fetch(`https://metaweather-api.glitch.me/${e}`);if(!t.ok)throw new Error("Something went wrong");return await t.json()}catch(e){console.log(e)}};class t{setText(e){this.elem.innerText=e}setImage(e){this.elem.src=e}setWindIcon(e){this.elem.style.transform=`rotate(${e}deg)`}setDatalistChildren(e){this.elem.innerHTML="",e.forEach((e=>{const t=document.createElement("option");t.value=e.title,t.dataset.woeid=e.woeid,this.elem.append(t)}))}toggleDisplay(){this.elem.style.display="none"===this.elem.style.display?"block":"none"}constructor(e){this.elem=document.getElementById(e)}}const a=new class{async getQueryLocations(t){const a=`/api/location/search/?query=${t}`;return await e(a)}async getWeatherData(t){const a=`/api/location/${t}`;return await e(a)}async getHistoricalWeatherData(t,a){const o=`/api/location/${t}/${a}`;return await e(o)}},o=(new class{set(e,t){try{localStorage.setItem(e,t)}catch(e){}}get(e){try{return localStorage.getItem(e)}catch(e){}return null}remove(e){try{localStorage.removeItem(e)}catch(e){}}},new t("home-input")),n=new t("home-view"),l=new t("search-view"),s=new t("results");l.toggleDisplay();o.elem.addEventListener("keyup",((e,t)=>{let a;return function(...o){clearTimeout(a),a=setTimeout((()=>{clearTimeout(a),e(...o)}),t)}})((async e=>{if(e.target.value&&"Enter"!==e.key){const t=await a.getQueryLocations(e.target.value);console.log(t),s.setDatalistChildren(t)}}),500)),o.elem.addEventListener("keyup",(e=>{"Enter"===e.key&&(console.log(s.elem.children[0].dataset.woeid),r(s.elem.children[0].dataset.woeid))}));const r=async e=>{a.getWeatherData(e).then((e=>{console.log(e),n.toggleDisplay(),l.toggleDisplay()}))};
//# sourceMappingURL=index.771453e4.js.map
